(this["webpackJsonpgoit-react-hw-05-moviess"]=this["webpackJsonpgoit-react-hw-05-moviess"]||[]).push([[5],{19:function(e,t,n){"use strict";var r=n(21),a=n(22),c=n(25),s=n(24),o=n(0),i=n(30),u=n.n(i),l=(n(31),n(23)),h=n.n(l),j=n(2),b=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{className:h.a.Loader,children:Object(j.jsx)(u.a,{type:"Bars",color:"#57e080",height:150,width:150,timeout:2e3})})}}]),n}(o.Component);t.a=b},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return m}));var r=n(26),a=n.n(r),c=n(27),s="112103a89f43817e1ae7d8a60b354bbb",o="https://api.themoviedb.org/3/";function i(e){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="trending/movie/day?api_key=".concat(s,"&page=").concat(t,"&include_adult=false"),r=o+n,e.next=4,fetch(r).then((function(e){return e.json()}));case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(a.a.mark((function e(t,n){var r,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="search/movie?api_key=".concat(s,"&language=en-US&query=").concat(t,"&page=").concat(n,"&include_adult=false"),c=o+r,e.next=4,fetch(c).then((function(e){return e.json()}));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="movie/".concat(t,"?api_key=").concat(s,"&language=en-US"),r=o+n,e.next=4,fetch(r).then((function(e){return console.log("MOVIE IdValue",e),e.json()}));case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="movie/".concat(t,"/credits?api_key=").concat(s,"&language=en-US"),r=o+n,e.next=4,fetch(r).then((function(e){return console.log("Credits",e),e.json()}));case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="movie/".concat(t,"/reviews?api_key=").concat(s,"&language=en-US"),r=o+n,e.next=4,fetch(r).then((function(e){return console.log("Reviews",e),e.json()}));case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},23:function(e,t,n){e.exports={Loader:"Loader_Loader__3Aipp"}},28:function(e,t,n){"use strict";var r=n(21),a=n(22),c=n(25),s=n(24),o=n(0),i=n(29),u=n.n(i),l=n(2),h=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(l.jsx)("div",{className:u.a.ButtonWrapper,children:Object(l.jsx)("button",{type:"submit",className:u.a.Button,onClick:this.props.onClick,children:Object(l.jsx)("span",{className:"button-label",children:"LoadMore"})})})}}]),n}(o.Component);t.a=h},29:function(e,t,n){e.exports={Button:"Button_Button__s2SnF",ButtonWrapper:"Button_ButtonWrapper__2V6WM"}},34:function(e,t,n){},58:function(e,t,n){e.exports={ImageGallery:"MoviesSearchResults_ImageGallery__2jtaU",movies__item:"MoviesSearchResults_movies__item__GMv7v",movie__card:"MoviesSearchResults_movie__card__lYZT9",movie__img:"MoviesSearchResults_movie__img__3Bz6d",movie__name:"MoviesSearchResults_movie__name__1pWxl",movie__genre:"MoviesSearchResults_movie__genre__3Y5t0",movie__year:"MoviesSearchResults_movie__year__3-c6z",movie__label:"MoviesSearchResults_movie__label__3l0e3"}},59:function(e,t,n){e.exports={Searchbar:"MoviesPage_Searchbar__2Z0jQ",SearchForm:"MoviesPage_SearchForm__wksKI",SearchFormButton:"MoviesPage_SearchFormButton__2aYEk",SearchFormButtonLabel:"MoviesPage_SearchFormButtonLabel__3NqeG",SearchFormInput:"MoviesPage_SearchFormInput__1GQqJ"}},64:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var r=n(5),a=n(1),c=n(0),s=n(4),o=n(33),i=(n(34),n(19)),u=n(35),l=n(28),h=n(58),j=n.n(h),b=n(20),_=n(2);function p(e){var t=e.submitValue,n=Object(c.useState)([]),a=Object(s.a)(n,2),h=a[0],p=a[1],m=Object(c.useState)(1),f=Object(s.a)(m,2),d=f[0],v=f[1],O=Object(c.useState)(!1),x=Object(s.a)(O,2),g=x[0],y=x[1];Object(c.useEffect)((function(){""!==t&&(y(!0),v(1),Object(b.e)(t,1).then((function(e){p(Object(u.a)(e.results)),e.results.length>=1&&""!==t?o.b.success("Search successfull!"):0===e.results.length&&o.b.error("Oops, nothing found!")})).catch((function(e){o.b.error("Fetch error!"),console.log(e)})).finally((function(){return y(!1)})))}),[t]),Object(c.useEffect)((function(){1!==d&&(y(!0),Object(b.e)(t,d).then((function(e){p([].concat(Object(u.a)(h),Object(u.a)(e.results))),e.results.length>=1&&d>1?o.b.success("More results successfully loaded!"):0===e.results.length&&d>1&&o.b.error("Oops, nothing more!")})).catch((function(e){o.b.error("Fetch error!"),console.log(e)})).finally((function(){return y(!1)})))}),[d]);return Object(_.jsxs)(_.Fragment,{children:[""!==t&&Object(_.jsx)("h2",{children:"Search results"}),Object(_.jsxs)("ul",{className:j.a.ImageGallery,children:[g&&Object(_.jsx)(i.a,{}),h.map((function(e){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("li",{className:j.a.movies__item,children:Object(_.jsx)(r.b,{to:"/movies/".concat(e.id),children:Object(_.jsxs)("div",{className:j.a.movie__card,children:[Object(_.jsx)("img",{className:j.a.movie__img,src:"https://www.themoviedb.org/t/p/w440_and_h660_face/".concat(e.poster_path),loading:"lazy",alt:"","data-src":e.poster_path}),Object(_.jsxs)("div",{className:j.a.movie__label,children:[Object(_.jsxs)("h3",{className:j.a.movie__name,children:[" ",e.title," "]}),Object(_.jsxs)("p",{className:j.a.movie__genre,children:["Genres: ",e.genre_ids]}),Object(_.jsxs)("p",{className:j.a.movie__year,children:["Release date: ",e.release_date]})]})]})})},e.id)})})),0!==h.length&&Object(_.jsx)(l.a,{onClick:function(){v(d+1)}})]})]})}var m=n(59),f=n.n(m);function d(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),u=Object(s.a)(a,2),l=u[0],h=u[1],j=function(){h("")};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h1",{children:"Find the Movie you like!"}),""===n?Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("header",{className:f.a.Searchbar,children:Object(_.jsxs)("form",{className:f.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===l.trim())return o.b.warn("Please specify your request!"),void j();var t;t=l.toLowerCase().trim(),r(t),j()},children:[Object(_.jsx)("button",{type:"submit",className:f.a.SearchFormButton,children:Object(_.jsx)("span",{className:f.a.SearchFormButtonLabel,children:"Search"})}),Object(_.jsx)("input",{className:f.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search a movie",onChange:function(e){h(e.currentTarget.value)},value:l})]})})}):"",Object(_.jsx)(p,{submitValue:n}),Object(_.jsx)(o.a,{}),Object(_.jsx)(i.a,{})," "]})}var v=Object(c.lazy)((function(){return n.e(9).then(n.bind(null,62))}));function O(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(d,{}),Object(_.jsx)("nav",{children:Object(_.jsx)("ul",{children:Object(_.jsx)("li",{children:Object(_.jsx)(r.c,{to:"/movies/:movieId",children:"Details"})})})}),Object(_.jsx)(c.Suspense,{fallback:Object(_.jsx)("p",{children:"Loading..."}),children:Object(_.jsx)(a.c,{children:Object(_.jsx)(a.a,{path:"/:movieId/*",element:Object(_.jsx)(v,{})})})})]})}}}]);
//# sourceMappingURL=5.cd75f05f.chunk.js.map